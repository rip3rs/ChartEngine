{"version":3,"sources":["../src/PieChart.js"],"names":["CoreChart","require","controller","$scope","render","module","exports","endpoint","params","setExtraParams","setController","buildController","getController","series","finalData","forEach","serie","sum","data","value","push","name","y","defaultParams","tooltip","pointFormat","tooltipUsePercentage","plotOptions","pie","allowPointSelect","cursor","dataLabels","enabled","format","labelUsePercentage","connectorColor"],"mappings":"mzCAAA,GAAMA,WAAYC,QAAQ,aAAR,CAAlB,CAEA,GAAMC,YAAa,QAAbA,WAAa,CAACC,MAAD,CAAU,CACzBA,OAAOC,MACV,CAFD,CAIAC,OAAOC,OAAP,qDACI,kBAAYC,QAAZ,CAAsBC,MAAtB,CAA6B,0IACnBD,QADmB,CACTC,MADS,CACD,KADC,GAEzB,MAAKC,cAAL,GACA,MAAKC,aAAL,GAHyB,YAI5B,CALL,0EAOmB,CACX,KAAKC,eAAL,CAAqB,UAArB,CAAiC,CAAC,QAAD,CAAW,OAAX,CAAoB,KAAKC,aAAL,EAApB,CAAjC,CACH,CATL,8CAWeC,MAXf,CAWsB,CACd,GAAIC,WAAY,EAAhB,CACA,GAAG,CAACD,MAAJ,CACIA,OAAS,EAAT,CAEJA,OAAOE,OAAP,CAAe,SAASC,KAAT,CAAgB,CAC3B,GAAIC,KAAM,CAAV,CAEAD,MAAME,IAAN,CAAWH,OAAX,CAAmB,SAASI,KAAT,CAAgB,CAC/BF,KAAOE,KACV,CAFD,EAIAL,UAAUM,IAAV,CAAe,CAACC,KAAML,MAAMK,IAAb,CAAmBC,EAAGL,GAAtB,CAAf,CACH,CARD,EAUA,MAAO,CAAC,CAACC,KAAKJ,SAAN,CAAD,CACV,CA3BL,uDA6BoB,CACZ,KAAKS,aAAL,CAAmBC,OAAnB,CAA6B,CACzBC,YAAa,KAAKjB,MAAL,CAAYkB,oBAAZ,CAAmC,+CAAnC,CAAqF,wCADzE,CAA7B,CAIA,KAAKH,aAAL,CAAmBI,WAAnB,CAAiC,CAC7BC,IAAK,CACDC,iBAAkB,IADjB,CAEDC,OAAQ,SAFP,CAGDC,WAAY,CACRC,QAAS,IADD,CAERC,OAAQ,KAAKzB,MAAL,CAAY0B,kBAAZ,GAAmC,KAAnC,CAA2C,gCAA3C,CAA8E,8CAF9E,CAGRC,eAAgB,QAHR,CAHX,CADwB,CAWpC,CA7CL,qBAAwCnC,SAAxC","file":"PieChart.js","sourcesContent":["const CoreChart = require('./CoreChart');\n\nconst controller = ($scope)=>{\n    $scope.render\n};\n\nmodule.exports = class PieChart extends CoreChart{\n    constructor(endpoint, params){\n        super(endpoint, params, 'pie');\n        this.setExtraParams();\n        this.setController();\n    }\n\n    setController(){\n        this.buildController('piechart', ['$scope', '$http', this.getController()]);\n    }\n\n    formatData(series){\n        let finalData = [];\n        if(!series)\n            series = [];\n        \n        series.forEach(function(serie) {\n            let sum = 0;\n\n            serie.data.forEach(function(value) {\n                sum += value;\n            });\n\n            finalData.push({name: serie.name, y: sum});\n        });\n        \n        return [{data:finalData}];\n    }\n\n    setExtraParams(){\n        this.defaultParams.tooltip = {\n            pointFormat: this.params.tooltipUsePercentage ? '<b>{series.name}</b>: {point.percentage:.1f}%' : '<b>{series.name}</b>: <b>{point.y}</b>'\n        };\n\n        this.defaultParams.plotOptions = {\n            pie: {\n                allowPointSelect: true,\n                cursor: 'pointer',\n                dataLabels: {\n                    enabled: true,\n                    format: this.params.labelUsePercentage === false ? '<b>{point.name}</b>: {point.y}' : '<b>{point.name}</b>: {point.percentage:.1f}%',\n                    connectorColor: 'silver'\n                }\n            }\n        }\n    }\n\n    \n}"]}